    apiVersion: secrets-store.csi.k8s.io/v1
    kind: SecretProviderClass
    metadata:
      name: akv-certificate-secretprovider
      namespace: production
      labels:
        app.kubernetes.io/name: certificateprovider-secrets
        app.kubernetes.io/component: security
        app.kubernetes.io/managed-by: azureplatform-team
        environment: production
      annotations:
        description: "SecretProviderClass to fetch TLS certificate from Azure Key Vault using Managed Identity"
        owner: "azureplatform-team@gmail.com"
    spec:
      provider: azure
      parameters:
        usePodIdentity: "false" # Set to "true" if using Workload Identity
        useVMManagedIdentity: "true" # Set to "true" if using VM-assigned managed identity
        userAssignedIdentityID: "<azure-id-of-managed-identity>" # Required if useVMManagedIdentity is "true"
        keyvaultName: "<azureplatform>"
        tenantId: "<2df8c4b5-2c3b-4e1a-9f7c-xxxxxxxxxxxx>" # Azure AD Tenant ID
      secretObjects:
        - secretName: my-certificate-secret # Name of the Kubernetes Secret to be created
          type: kubernetes.io/tls
          data:
            - key: tls.crt
              objectName: <azureplatform> # Name of the certificate in Key Vault
              objectType: cert
            - key: tls.key
              objectName: <azureplatform>
              objectType: certificate
